<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Blockly Demo: Adventure Blockly</title>
  <script src="../../blockly_uncompressed.js"></script>
  <script src="../../generators/javascript.js"></script>
  <script src="../../generators/javascript/logic.js"></script>
  <script src="../../generators/javascript/loops.js"></script>
  <script src="../../generators/javascript/math.js"></script>
  <script src="../../generators/javascript/text.js"></script>
  <script src="../../generators/javascript/lists.js"></script>
  <script src="../../generators/javascript/colour.js"></script>
  <script src="../../generators/javascript/variables.js"></script>
  <script src="../../generators/javascript/procedures.js"></script>
  <script src="../../msg/messages.js"></script>
  <script src="../../blocks/logic.js"></script>
  <script src="../../blocks/loops.js"></script>
  <script src="../../blocks/math.js"></script>
  <script src="../../blocks/text.js"></script>
  <script src="../../blocks/lists.js"></script>
  <script src="../../blocks/colour.js"></script>
  <script src="../../blocks/variables.js"></script>
  <script src="../../blocks/procedures.js"></script>
  <script src="JS-Interpreter/acorn.js"></script>
  <script src="JS-Interpreter/interpreter.js"></script>
  <script src="blocks.js"></script>
  <script src="speech.js"></script>

  <style>
    html, body {
      height: 100%;
      margin: 0;
    }
    body {
      background-color: #fff;
      font-family: sans-serif;
      overflow: hidden;
    }
    h1 {
      font-weight: normal;
      font-size: 140%;
    }
    section {
      float: left;
      width : 70%;
    }
    aside {
      float: right;
      width: 30%;
    }
    button {
      border-radius: 4px;
      border: 1px solid #ddd;
      background-color: #eee;
      color: #000;
      padding: 10px;
      margin: 0 5px;
      font-size: large;
    }
    button:hover:not(:disabled) {
      box-shadow: 2px 2px 5px #888;
    }
    button:disabled {
      opacity: 0.6;
    }
    button>* {
      opacity: 0.6;
      vertical-align: text-bottom;
    }
    button:hover:not(:disabled)>* {
      opacity: 1;
    }
  </style>
</head>
<body>
<table>
  <tr>
   <td>
    <h1><a href="https://developers.google.com/blockly/">Blockly</a> &gt;
      <a href="../index.html">Demos</a> &gt; Adventure Blockly</h1>

      <p>Make your own adventure through text, speech, and pictures. Create your own or check out some of our examples (link).</p>

      <p id = "logText">This is where logging messages go.</p>

      <p>
        <button onclick="showCode()">Show JavaScript</button>   
        <button onclick="runCode()">Start Adventure</button>
      </p>

  <aside>
       <p id="displayText"> Your story's text will be shown here.</p>

       <img id = "displayPic" src = "http://cdn3-www.cattime.com/assets/uploads/2011/08/best-kitten-names-1.jpg" alt="Image chosen by user" style = "width:35%;height:35%;">
  </aside>


  <section id="blocklyDiv" style= "height: 480px; width: 900px;"></div>    

  <xml id="toolbox" style="display: none">
    
    <category name="Listen" colour="0">
      <block type="listen_if">
         <value name="WORD">
          <shadow type="text"></shadow>
        </value>
      </block>
      <block type="listen_bool">
         <value name="WORD">
          <shadow type="text"></shadow>
        </value>
      </block>
      <block type="listen_text"></block>
    </category>
    <category name="Display" colour="60">
      <block type="display_img"></block>
      <block type="display_text">
       <value name="DISPLAY_TEXT">
          <shadow type="text"></shadow>
        </value>
      </block>
      <block type="display_pause">
        <value name="TIME">
          <shadow type="math_number">
            <field name="NUM">1000</field>
          </shadow>
        </value>
      </block>
    </category>
    <category name="Speak" colour="300">
      <block type="speech_speak"></block>
    </category>

      <category name="Logic" colour="210">
      <block type="controls_if"></block>
      <block type="logic_compare"></block>
      <block type="logic_operation"></block>
      <block type="logic_negate"></block>
      <block type="logic_boolean"></block>
      <block type="logic_null"></block>
      <block type="logic_ternary"></block>
    </category>
    <category name="Loops" colour="120">
      <block type="controls_repeat_ext">
        <value name="TIMES">
          <shadow type="math_number">
            <field name="NUM">10</field>
          </shadow>
        </value>
      </block>
      <block type="controls_whileUntil"></block>
      <block type="controls_for">
        <value name="FROM">
          <shadow type="math_number">
            <field name="NUM">1</field>
          </shadow>
        </value>
        <value name="TO">
          <shadow type="math_number">
            <field name="NUM">10</field>
          </shadow>
        </value>
        <value name="BY">
          <shadow type="math_number">
            <field name="NUM">1</field>
          </shadow>
        </value>
      </block>
      <block type="controls_forEach"></block>
      <block type="controls_flow_statements"></block>
    </category>
    <category name="Math" colour="230">
      <block type="math_number"></block>
      <block type="math_arithmetic">
        <value name="A">
          <shadow type="math_number">
            <field name="NUM">1</field>
          </shadow>
        </value>
        <value name="B">
          <shadow type="math_number">
            <field name="NUM">1</field>
          </shadow>
        </value>
      </block>
      <block type="math_single">
        <value name="NUM">
          <shadow type="math_number">
            <field name="NUM">9</field>
          </shadow>
        </value>
      </block>
      <block type="math_trig">
        <value name="NUM">
          <shadow type="math_number">
            <field name="NUM">45</field>
          </shadow>
        </value>
      </block>
      <block type="math_constant"></block>
      <block type="math_number_property">
        <value name="NUMBER_TO_CHECK">
          <shadow type="math_number">
            <field name="NUM">0</field>
          </shadow>
        </value>
      </block>
      <block type="math_change">
        <value name="DELTA">
          <shadow type="math_number">
            <field name="NUM">1</field>
          </shadow>
        </value>
      </block>
      <block type="math_round">
        <value name="NUM">
          <shadow type="math_number">
            <field name="NUM">3.1</field>
          </shadow>
        </value>
      </block>
      <block type="math_on_list"></block>
      <block type="math_modulo">
        <value name="DIVIDEND">
          <shadow type="math_number">
            <field name="NUM">64</field>
          </shadow>
        </value>
        <value name="DIVISOR">
          <shadow type="math_number">
            <field name="NUM">10</field>
          </shadow>
        </value>
      </block>
      <block type="math_constrain">
        <value name="VALUE">
          <shadow type="math_number">
            <field name="NUM">50</field>
          </shadow>
        </value>
        <value name="LOW">
          <shadow type="math_number">
            <field name="NUM">1</field>
          </shadow>
        </value>
        <value name="HIGH">
          <shadow type="math_number">
            <field name="NUM">100</field>
          </shadow>
        </value>
      </block>
      <block type="math_random_int">
        <value name="FROM">
          <shadow type="math_number">
            <field name="NUM">1</field>
          </shadow>
        </value>
        <value name="TO">
          <shadow type="math_number">
            <field name="NUM">100</field>
          </shadow>
        </value>
      </block>
      <block type="math_random_float"></block>
    </category>
    <category name="Text" colour="160">
      <block type="text"></block>
      <block type="text_join"></block>
      <block type="text_append">
        <value name="TEXT">
          <shadow type="text"></shadow>
        </value>
      </block>
      <block type="text_length">
        <value name="VALUE">
          <shadow type="text">
            <field name="TEXT">abc</field>
          </shadow>
        </value>
      </block>
      <block type="text_isEmpty">
        <value name="VALUE">
          <shadow type="text">
            <field name="TEXT"></field>
          </shadow>
        </value>
      </block>
      <block type="text_indexOf">
        <value name="VALUE">
          <block type="variables_get">
            <field name="VAR">text</field>
          </block>
        </value>
        <value name="FIND">
          <shadow type="text">
            <field name="TEXT">abc</field>
          </shadow>
        </value>
      </block>
      <block type="text_charAt">
        <value name="VALUE">
          <block type="variables_get">
            <field name="VAR">text</field>
          </block>
        </value>
      </block>
      <block type="text_getSubstring">
        <value name="STRING">
          <block type="variables_get">
            <field name="VAR">text</field>
          </block>
        </value>
      </block>
      <block type="text_changeCase">
        <value name="TEXT">
          <shadow type="text">
            <field name="TEXT">abc</field>
          </shadow>
        </value>
      </block>
      <block type="text_trim">
        <value name="TEXT">
          <shadow type="text">
            <field name="TEXT">abc</field>
          </shadow>
        </value>
      </block>
      <block type="text_print">
        <value name="TEXT">
          <shadow type="text">
            <field name="TEXT">abc</field>
          </shadow>
        </value>
      </block>
      <block type="text_prompt_ext">
        <value name="TEXT">
          <shadow type="text">
            <field name="TEXT">abc</field>
          </shadow>
        </value>
      </block>
    </category>
    <category name="Lists" colour="260">
      <block type="lists_create_with">
        <mutation items="0"></mutation>
      </block>
      <block type="lists_create_with"></block>
      <block type="lists_repeat">
        <value name="NUM">
          <shadow type="math_number">
            <field name="NUM">5</field>
          </shadow>
        </value>
      </block>
      <block type="lists_length"></block>
      <block type="lists_isEmpty"></block>
      <block type="lists_indexOf">
        <value name="VALUE">
          <block type="variables_get">
            <field name="VAR">list</field>
          </block>
        </value>
      </block>
      <block type="lists_getIndex">
        <value name="VALUE">
          <block type="variables_get">
            <field name="VAR">list</field>
          </block>
        </value>
      </block>
      <block type="lists_setIndex">
        <value name="LIST">
          <block type="variables_get">
            <field name="VAR">list</field>
          </block>
        </value>
      </block>
      <block type="lists_getSublist">
        <value name="LIST">
          <block type="variables_get">
            <field name="VAR">list</field>
          </block>
        </value>
      </block>
      <block type="lists_split">
        <value name="DELIM">
          <shadow type="text">
            <field name="TEXT">,</field>
          </shadow>
        </value>
      </block>
      <block type="lists_sort"></block>
    </category>
    <category name="Colour" colour="20">
      <block type="colour_picker"></block>
      <block type="colour_random"></block>
      <block type="colour_rgb">
        <value name="RED">
          <shadow type="math_number">
            <field name="NUM">100</field>
          </shadow>
        </value>
        <value name="GREEN">
          <shadow type="math_number">
            <field name="NUM">50</field>
          </shadow>
        </value>
        <value name="BLUE">
          <shadow type="math_number">
            <field name="NUM">0</field>
          </shadow>
        </value>
      </block>
      <block type="colour_blend">
        <value name="COLOUR1">
          <shadow type="colour_picker">
            <field name="COLOUR">#ff0000</field>
          </shadow>
        </value>
        <value name="COLOUR2">
          <shadow type="colour_picker">
            <field name="COLOUR">#3333ff</field>
          </shadow>
        </value>
        <value name="RATIO">
          <shadow type="math_number">
            <field name="NUM">0.5</field>
          </shadow>
        </value>
      </block>
    </category>
    <sep></sep>
    <category name="Variables" colour="330" custom="VARIABLE"></category>
    <category name="Functions" colour="290" custom="PROCEDURE"></category>
  </xml>

  <xml id="monkeyDemo" style="display: none">
    <block type="display_text" id="3SPHvhL1yDvZe+!L(6`D" x="138" y="38">
      <value name="DISPLAY_TEXT">
        <shadow type="text" id="Cvvm5LB+fy78XXet3pas">
          <field name="TEXT">George is a hungry monkey. Will you give George a banana?</field>
        </shadow>
      </value>
      <next>
        <block type="display_img" id="3SPHvhL1yDvZe+!L(6`D" x="138" y="38">
        <field name="IMG_SRC">https://pixabay.com/static/uploads/photo/2014/10/04/16/31/monkey-473687_960_720.jpg</field>
        <next>
            <block type="controls_if" id="m1,)YT65J-nl+,|01PVp">
              <mutation else="1"></mutation>
              <value name="IF0">
                <block type="listen_bool" id="|]U?w3s{,pa9c-[m?~Xv">
                  <value name="WORD" id="6">
                    <shadow type="text" id="7">
                      <field name="TEXT">yes</field>
                    </shadow>
                  </value>
                </block>
              </value>
              <statement name="DO0">
                <block type="display_text" id="BZKgly:49)z{9dtsD9fi">
                  <value name="DISPLAY_TEXT">
                    <shadow type="text" id="e(fM@Dr%aI*hk3A2V9NQ">
                      <field name="TEXT">George is a happy monkey!</field>
                    </shadow>
                  </value>
                  <next>
                    <block type="display_img" id="1">
                      <field name="IMG_SRC">https://c2.staticflickr.com/4/3932/15278523118_d21b9978f0_b.jpg</field>
                    </block>
                  </next>
                </block>
              </statement>
              <statement name="ELSE">
                <block type="display_text" id="3">
                  <value name="DISPLAY_TEXT">
                    <shadow type="text" id="4">
                      <field name="TEXT">George is a sad monkey!</field>
                    </shadow>
                  </value>
                  <next>
                    <block type="display_img" id="5">
                      <field name="IMG_SRC">https://pixabay.com/static/uploads/photo/2015/10/09/06/46/chimpanzee-978809_960_720.jpg</field>
                    </block>
                  </next>
                </block>
              </statement>
            </block>
          </next>
        </block>
      </next>
    </block>
  </xml>

  </section>

  <script>
  var workspace = Blockly.inject('blocklyDiv',  
        {media: '../../media/',
         toolbox: document.getElementById('toolbox')});

  Blockly.Xml.domToWorkspace(document.getElementById('monkeyDemo'),
                               workspace);

  </script>


</body>
</html>
